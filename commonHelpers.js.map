{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport axios from 'axios';\n\n\nlet lightbox = new SimpleLightbox('.image-card a', { captionsData: \"alt\",}); \n\nconst API_KEY = '42176709-03057e91c34187fd30d01f158';\n\nfunction showLoader() {\n  const loader = document.createElement('div');\n  loader.className = 'loader';\n  imageContainer.appendChild(loader);\n}\n\nfunction hideLoader() {\n  const loader = imageContainer.querySelector('.loader');\n  if (loader) {\n    loader.remove();\n  }\n}\n\nfunction performSearch(searchQuery) {\n    showLoader();\n    const imageType = 'photo';\n    const orientation = 'horizontal';\n    const safeSearch = true;\n\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: searchQuery,\n        image_type: imageType,\n        orientation: orientation,\n        safesearch: safeSearch,\n    });\n    const URL = `https://pixabay.com/api/?${params}`;\n\n    fetch(URL)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Network response was not ok');\n            }\n            return response.json();\n        })\n        .then(data => {\n    hideLoader();\n    const imageContainer = document.getElementById('imageContainer');\n    imageContainer.innerHTML = '';\n\n    const fragment = document.createDocumentFragment();\n\n    if (parseInt(data.totalHits) > 0) {\n        data.hits.forEach(hit => {\n            const cardContainer = document.createElement('li');\n            cardContainer.className = 'image-card';\n\n            const imgElement = document.createElement('img');\n            imgElement.src = hit.webformatURL;\n            imgElement.alt = hit.tags;\n\n            const galleryLink = document.createElement('a');\n            galleryLink.href = hit.largeImageURL;\n            galleryLink.appendChild(imgElement);\n\n            const detailsContainer = document.createElement('div');\n            detailsContainer.className = 'image-details';\n\n            const likesElement = document.createElement('p');\n            likesElement.textContent = `Likes ${hit.likes}`;\n\n            const viewsElement = document.createElement('p');\n            viewsElement.textContent = `Views ${hit.views}`;\n\n            const commentsElement = document.createElement('p');\n            commentsElement.textContent = `Comments ${hit.comments}`;\n\n            const downloadsElement = document.createElement('p');\n            downloadsElement.textContent = `Downloads ${hit.downloads}`;\n\n            detailsContainer.appendChild(likesElement);\n            detailsContainer.appendChild(viewsElement);\n            detailsContainer.appendChild(commentsElement);\n            detailsContainer.appendChild(downloadsElement);\n\n            cardContainer.appendChild(galleryLink);\n            cardContainer.appendChild(detailsContainer);\n\n            fragment.appendChild(cardContainer);\n        });\n        \n        imageContainer.appendChild(fragment);\n        lightbox.refresh();\n            } else {\n         iziToast.error({\n                message: 'Please enter a valid search query.',\n                position: 'topRight',\n            });\n            }\n        })\n        .catch(error => {\n            hideLoader();\n            console.error('Error during fetch:', error.message);\n        });\n}\n\ndocument.addEventListener('DOMContentLoaded', function () {\n    document.getElementById('searchForm').addEventListener('submit', function (event) {\n        event.preventDefault();\n\n        const searchInputValue = document.getElementById('searchInput').value;\n        if (searchInputValue.trim() !== '') {\n            performSearch(searchInputValue);\n        } else {\n            iziToast.error({\n                message: 'Please enter a valid search query.',\n                position: 'topRight',\n            });\n        }\n\n        event.target.reset();\n    });\n});"],"names":["lightbox","SimpleLightbox","API_KEY","showLoader","loader","hideLoader","performSearch","searchQuery","imageType","orientation","safeSearch","URL","response","data","imageContainer","fragment","hit","cardContainer","imgElement","galleryLink","detailsContainer","likesElement","viewsElement","commentsElement","downloadsElement","iziToast","error","event","searchInputValue"],"mappings":"6vBAWA,IAAIA,EAAW,IAAIC,EAAe,gBAAiB,CAAE,aAAc,KAAK,CAAE,EAE1E,MAAMC,EAAU,qCAEhB,SAASC,GAAa,CACpB,MAAMC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAY,SACnB,eAAe,YAAYA,CAAM,CACnC,CAEA,SAASC,GAAa,CACpB,MAAMD,EAAS,eAAe,cAAc,SAAS,EACjDA,GACFA,EAAO,OAAM,CAEjB,CAEA,SAASE,EAAcC,EAAa,CAChCJ,IACA,MAAMK,EAAY,QACZC,EAAc,aACdC,EAAa,GASbC,EAAM,4BAPG,IAAI,gBAAgB,CAC/B,IAAKT,EACL,EAAGK,EACH,WAAYC,EACZ,YAAaC,EACb,WAAYC,CACpB,CAAK,CAC6C,GAE9C,MAAMC,CAAG,EACJ,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,6BAA6B,EAEjD,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,GAAQ,CAClBR,IACA,MAAMS,EAAiB,SAAS,eAAe,gBAAgB,EAC/DA,EAAe,UAAY,GAE3B,MAAMC,EAAW,SAAS,yBAEtB,SAASF,EAAK,SAAS,EAAI,GAC3BA,EAAK,KAAK,QAAQG,GAAO,CACrB,MAAMC,EAAgB,SAAS,cAAc,IAAI,EACjDA,EAAc,UAAY,aAE1B,MAAMC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,IAAMF,EAAI,aACrBE,EAAW,IAAMF,EAAI,KAErB,MAAMG,EAAc,SAAS,cAAc,GAAG,EAC9CA,EAAY,KAAOH,EAAI,cACvBG,EAAY,YAAYD,CAAU,EAElC,MAAME,EAAmB,SAAS,cAAc,KAAK,EACrDA,EAAiB,UAAY,gBAE7B,MAAMC,EAAe,SAAS,cAAc,GAAG,EAC/CA,EAAa,YAAc,SAASL,EAAI,KAAK,GAE7C,MAAMM,EAAe,SAAS,cAAc,GAAG,EAC/CA,EAAa,YAAc,SAASN,EAAI,KAAK,GAE7C,MAAMO,EAAkB,SAAS,cAAc,GAAG,EAClDA,EAAgB,YAAc,YAAYP,EAAI,QAAQ,GAEtD,MAAMQ,EAAmB,SAAS,cAAc,GAAG,EACnDA,EAAiB,YAAc,aAAaR,EAAI,SAAS,GAEzDI,EAAiB,YAAYC,CAAY,EACzCD,EAAiB,YAAYE,CAAY,EACzCF,EAAiB,YAAYG,CAAe,EAC5CH,EAAiB,YAAYI,CAAgB,EAE7CP,EAAc,YAAYE,CAAW,EACrCF,EAAc,YAAYG,CAAgB,EAE1CL,EAAS,YAAYE,CAAa,CAC9C,CAAS,EAEDH,EAAe,YAAYC,CAAQ,EACnCf,EAAS,QAAO,GAEfyB,EAAS,MAAM,CACR,QAAS,qCACT,SAAU,UAC1B,CAAa,CAEb,CAAS,EACA,MAAMC,GAAS,CACZrB,IACA,QAAQ,MAAM,sBAAuBqB,EAAM,OAAO,CAC9D,CAAS,CACT,CAEA,SAAS,iBAAiB,mBAAoB,UAAY,CACtD,SAAS,eAAe,YAAY,EAAE,iBAAiB,SAAU,SAAUC,EAAO,CAC9EA,EAAM,eAAc,EAEpB,MAAMC,EAAmB,SAAS,eAAe,aAAa,EAAE,MAC5DA,EAAiB,KAAM,IAAK,GAC5BtB,EAAcsB,CAAgB,EAE9BH,EAAS,MAAM,CACX,QAAS,qCACT,SAAU,UAC1B,CAAa,EAGLE,EAAM,OAAO,OACrB,CAAK,CACL,CAAC"}