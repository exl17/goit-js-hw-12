import{S as B,i as C,a as I}from"./assets/vendor-5401a4b0.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function d(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=d(e);fetch(e.href,t)}})();let b=new B(".image-card a",{captionsData:"alt"});const y=document.getElementById("loadBtn"),f=document.getElementById("imageContainer");let h=1,x="";const R="42176709-03057e91c34187fd30d01f158";function P(){const o=document.createElement("div");o.className="loader",f.appendChild(o)}function E(){const o=f.querySelector(".loader");o&&o.remove()}async function S(o){P(),x=o,h=1;const s="photo",d="horizontal",i=!0,t=`https://pixabay.com/api/?${new URLSearchParams({key:R,q:o,image_type:s,orientation:d,safesearch:i,per_page:15,page:h})}`;try{const l=(await I.get(t)).data;E(),f.innerHTML="";const m=document.createDocumentFragment();parseInt(l.totalHits)>0?(l.hits.forEach(a=>{const r=document.createElement("li");r.className="image-card";const p=document.createElement("img");p.src=a.webformatURL,p.alt=a.tags;const u=document.createElement("a");u.href=a.largeImageURL,u.appendChild(p);const c=document.createElement("div");c.className="image-details";const g=document.createElement("p");g.textContent=`Likes ${a.likes}`;const L=document.createElement("p");L.textContent=`Views ${a.views}`;const w=document.createElement("p");w.textContent=`Comments ${a.comments}`;const v=document.createElement("p");v.textContent=`Downloads ${a.downloads}`,c.appendChild(g),c.appendChild(L),c.appendChild(w),c.appendChild(v),r.appendChild(u),r.appendChild(c),m.appendChild(r)}),f.appendChild(m),b.refresh(),y.style.display="block"):C.error({message:"Please enter a valid search query.",position:"topRight"})}catch(n){E(),console.error("Error during fetch:",n.message)}}async function $(){h++;const s=`https://pixabay.com/api/?${new URLSearchParams({key:R,q:x,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:h})}`;try{const i=(await I.get(s)).data;E();const e=document.createDocumentFragment();if(parseInt(i.totalHits)>0){i.hits.forEach(n=>{const l=document.createElement("li");l.className="image-card";const m=document.createElement("img");m.src=n.webformatURL,m.alt=n.tags;const a=document.createElement("a");a.href=n.largeImageURL,a.appendChild(m);const r=document.createElement("div");r.className="image-details";const p=document.createElement("p");p.textContent=`Likes ${n.likes}`;const u=document.createElement("p");u.textContent=`Views ${n.views}`;const c=document.createElement("p");c.textContent=`Comments ${n.comments}`;const g=document.createElement("p");g.textContent=`Downloads ${n.downloads}`,r.appendChild(p),r.appendChild(u),r.appendChild(c),r.appendChild(g),l.appendChild(a),l.appendChild(r),e.appendChild(l)}),f.appendChild(e),b.refresh(),h*15>=parseInt(i.totalHits)&&(document.getElementById("loadBtn").style.display="none",C.error({message:"We're sorry, but you've reached the end of search results.",position:"topRight"}));const t=document.querySelector(".image-card").getBoundingClientRect().height;window.scrollBy({top:t*2,behavior:"smooth"})}}catch(d){E(),console.error("Error loading more images:",d.message)}}y.addEventListener("click",$);document.addEventListener("DOMContentLoaded",function(){document.getElementById("searchForm").addEventListener("submit",function(o){o.preventDefault();const s=document.getElementById("searchInput").value;s.trim()!==""?(S(s),y.style.display="none"):C.error({message:"Please enter a valid search query.",position:"topRight"}),o.target.reset()}),y.style.display="none"});
//# sourceMappingURL=commonHelpers.js.map
